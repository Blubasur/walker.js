!function(){"use strict";var t=function(){return t=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},t.apply(this,arguments)};function n(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return t.apply(void 0,n)}catch(t){return void console.error("walker",t)}}}function e(t,n){void 0===n&&(n=";");var e={};if(!t)return e;var o=new RegExp("(?:[^".concat(n,"']+|'[^']*')+"),"ig");return(t.match(o)||[]).forEach((function(t){var n=function(t){var n=t.split(/:(.+)/,2),e=n[0],r=n[1];return[i(e),i(r)]}(t),o=n[0],a=n[1],c=r(o)[0];c&&(e[c]=a||c)})),e}function r(t){var n=t.split("(",2),e=n[0],r=n[1];return[e,r?r.slice(0,-1):""]}function i(t){return t?t.trim().replace(/^'|'$/g,"").trim():""}function o(t,n){return t.getAttribute(n)||""}function a(n,e){return void 0===e&&(e={}),t(t({},n),e)}function c(t){return{}.hasOwnProperty.call(t,"callee")}function u(t,n){var e=o(n,f(t));if(!e)return null;for(var r={},i="[".concat(f(t,e),"]"),c=n;c;)c.matches(i)&&(r=a(l(t,c,e),r)),c=c.parentElement;n.querySelectorAll(i).forEach((function(n){var i=l(t,n,e);Object.entries(i).forEach((function(t){var e=t[0],r=t[1];if("#"===r.charAt(0)){r=r.substring(1);try{var o=n[r];o||"selected"!==r||(o=n.options[n.selectedIndex].text),o&&(i[e]=o)}catch(t){i[e]=""}}})),r=a(r,i)}));var s=[];return n.querySelectorAll("[".concat(f(t),"]")).forEach((function(n){var e=u(t,n);e&&s.push(e)})),{type:e,data:r,nested:s}}function f(t,n,e){return void 0===e&&(e=!0),t+(n?(e?"-":"")+n:"")}function l(t,n,r){return e(o(n,f(t,r))||"")}var s=document,d=window,p=n((function(t){if(void 0===t&&(t=1e3),d.IntersectionObserver)return new d.IntersectionObserver((function(n){n.forEach((function(n){var e=n.target,r="elbTimerId";if(n.intersectionRatio>=.5){var i=d.setTimeout((function(){(function(t){var n=getComputedStyle(t);if("none"===n.display)return!1;if("visible"!==n.visibility)return!1;if(Number(n.opacity)<.1)return!1;if(t.offsetWidth+t.offsetHeight+t.getBoundingClientRect().height+t.getBoundingClientRect().width===0)return!1;var e={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2};if(e.x<0)return!1;if(e.x>(s.documentElement.clientWidth||d.innerWidth))return!1;if(e.y<0)return!1;if(e.y>(s.documentElement.clientHeight||d.innerHeight))return!1;var r=s.elementFromPoint(e.x,e.y);if(r)do{if(r===t)return!0}while(r=r.parentElement);return!1})(e)&&(b(e,"visible",N.config.prefix),delete e.dataset[r],p&&p.unobserve(e))}),t);e.dataset[r]=String(i)}else e.dataset[r]&&(clearTimeout(Number(e.dataset[r])),delete e.dataset[r])}))}),{rootMargin:"0px",threshold:[.5]})}))(1e3);function h(t,n){var e=function(){t(n)};"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function v(t){s.addEventListener("click",n((function(n){y.call(this,n,t)}))),s.addEventListener("submit",n((function(n){m.call(this,n,t)}))),s.addEventListener("submit",n((function(n){m.call(this,n,t)})))}function g(t){var n,e;n=d.location,e={domain:n.hostname,id:n.pathname,title:s.title},n.search&&(e.search=n.search),n.hash&&(e.hash=n.hash),d.elbLayer.push("page view",e,"load"),s.querySelectorAll(w(t,"load")).forEach((function(n){b(n,"load",t)})),s.querySelectorAll(w(t,"wait")).forEach((function(n){setTimeout((function(){return b(n,"wait",t)}),4e3)})),function(t,n,e){if(void 0===e&&(e=!1),p){e&&p.disconnect();var r=w(t,"visible");n.querySelectorAll(r).forEach((function(t){p.observe(t)}))}}(t,s,!0)}function y(t,n){b(t.target,"click",n)}function m(t,n){b(t.target,"submit",n)}function b(t,n,i){(function(t,n,i){void 0===i&&(i="elb");var a=function(t,n,i){for(var a=t;a;){var c=r(e(o(a,f(i,"action",!1))||o(a,f(i,"action")))[n]||""),u=c[0],l=c[1];if(u||"click"!==n)return[u,l?e(l,","):void 0];a=a.parentElement}return[]}(t,n,i),c=a[0],l=a[1];if(!c)return[];var s=function(t,n,e){for(var r=[],i=t;i;){var o=u(e,i);!o||n&&!n[o.type]||r.push(o),i=i.parentElement}return r}(t,l,i);return s.map((function(t){return{entity:t.type,action:c,data:t.data,trigger:n,nested:t.nested}}))})(t,n,i).forEach((function(t){d.elbLayer.push("".concat(t.entity," ").concat(t.action),t.data,n,t.nested)}))}function w(t,n){return"[".concat(f(t,"action",!1),"*=").concat(n,"],[").concat(f(t,"action"),"*=").concat(n,"]")}var E=function(){return E=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},E.apply(this,arguments)},A={config:{},init:function(){return window.dataLayer=window.dataLayer||[],!0},push:function(t){window.dataLayer.push(E(E({},t),{walker:!0}))}},x=function(t,n,e){if(e||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))},L=window,k={},O=[],j="".concat("walker"," ").concat("run"),S={walker:1.3,config:0},I=0,q="",C={},R={},P=!0,W=!1;function B(t){var r,i,c,u;W=!0,I=0,q=Math.random().toString(36).slice(2,8),r=t.config.prefix,i=f(r,"globals",!1),c="[".concat(i,"]"),u={},document.querySelectorAll(c).forEach((function(t){u=a(u,e(o(t,i)))})),C=u,P&&(P=!1,function(t){var n="".concat("walker"," "),e=[],r=[],i=!0;L.elbLayer.map((function(t){var o,a=x([],Array.from(t),!0),c=a[0],u=a[1],f=a[2],l=a[3];({}).hasOwnProperty.call(c,"callee")&&(c=(o=x([],Array.from(c),!0))[0],u=o[1],f=o[2],l=o[3]),"string"==typeof c&&(i&&c==j?i=!1:c.startsWith(n)?e.push([c,u,f,l]):r.push([c,u,f,l]))})),e.concat(r).map((function(n){var e=n[0],r=n[1],i=n[2],o=n[3];t.push(e,r,i,o)}))}(t)),n(g)(t.config.prefix)}function H(t){var n={init:t.init,push:t.push,config:t.config||{init:!1}};O.push(n)}k.config={prefix:"elb"},k.go=function(t){void 0===t&&(t={}),t.version&&(S.config=t.version),t.prefix&&(this.config.prefix=t.prefix),function(t){L.elbLayer=L.elbLayer||[],L.elbLayer.push=function(n,e,r,i){var o;return c(n)&&(n=(o=x([],Array.from(n),!0))[0],e=o[1],r=o[2],i=o[3]),t.push(n,e,r,i),Array.prototype.push.apply(this,[arguments])},L.elbLayer.find((function(t){return(t=c(t)?t[0]:t)==j}))&&h(B,t)}(k),t.projectId?function(t){var n=document.createElement("script");n.src="".concat("https://project-file.p.elbwalkerapis.com/").concat(t,".js"),document.head.appendChild(n)}(t.projectId):t.custom||(H(A),h(B,k)),v(this.config.prefix)},k.push=function(t,e,r,i){if(t&&"string"==typeof t&&(W||t==j)){var o=t.split(" "),c=o[0],u=o[1];if(c&&u)if("walker"!==c){++I;var f=Date.now(),l=Math.round(performance.now()/10)/100,s="".concat(f,"-").concat(q,"-").concat(I);O.map((function(o){n((function(){if(o.init&&!o.config.init){var n=o.init();if(o.config.init=n,!n)return}o.push({event:t,data:a({},e),globals:a({},C),user:a({},R),nested:i||[],id:s,trigger:r||"",entity:c,action:u,timestamp:f,timing:l,group:q,count:I,version:S})}))()}))}else!function(t,n,e){switch(void 0===n&&(n={}),t){case"destination":H(n);break;case"run":h(B,e);break;case"user":!function(t){t.id&&(R.id=t.id),t.device&&(R.device=t.device),t.hash&&(R.hash=t.hash)}(n)}}(u,e,this)}};var M,T,D,N=k,F=document.querySelector("script.elbwalker");F&&(M=F.getAttribute("data-project")||void 0,T=!!F.getAttribute("data-custom"),D=parseInt(F.getAttribute("data-version")||"1")),N.go({projectId:M,custom:T,version:D}),window.elbwalker=N}();