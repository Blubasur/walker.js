!function(){"use strict";var t=function(){return t=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},t.apply(this,arguments)};function n(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return t.apply(void 0,n)}catch(t){return void console.error("walker",t)}}}function e(){return Math.random().toString(36).slice(2,8)}function r(t,n){void 0===n&&(n=";");var e={};if(!t)return e;var r=new RegExp("(?:[^".concat(n,"']+|'[^']*')+"),"ig");return(t.match(r)||[]).forEach((function(t){var n=function(t){var n=t.split(/:(.+)/,2),e=n[0],r=n[1];return[o(e),o(r)]}(t),r=n[0],a=n[1],c=i(r)[0];c&&(e[c]=a||c)})),e}function i(t){var n=t.split("(",2),e=n[0],r=n[1];return[e,r?r.slice(0,-1):""]}function o(t){return t?t.trim().replace(/^'|'$/g,"").trim():""}function a(t,n){return t.getAttribute(n)||""}function c(n,e){return void 0===e&&(e={}),t(t({},n),e)}function u(t){var n=a(t,f());if(!n)return null;for(var e={},r="[".concat(f(n),"]"),i=t;i;)i.matches(r)&&(e=c(s(i,n),e)),i=i.parentElement;t.querySelectorAll(r).forEach((function(t){var r=s(t,n);Object.entries(r).forEach((function(n){var e=n[0],i=n[1];if("#"===i.charAt(0)){i=i.substring(1);try{var o=t[i];o||"selected"!==i||(o=t.options[t.selectedIndex].text),o&&(r[e]=o)}catch(t){r[e]=""}}})),e=c(e,r)}));var o=[];return t.querySelectorAll("[".concat(f(),"]")).forEach((function(t){var n=u(t);n&&o.push(n)})),{type:n,data:e,nested:o}}function f(t,n){return void 0===n&&(n=!0),"elb"+(t?(n?"-":"")+t:"")}function s(t,n){return r(a(t,f(n))||"")}var l=document,d=window,h=n((function(t){if(void 0===t&&(t=1e3),d.IntersectionObserver)return new d.IntersectionObserver((function(n){n.forEach((function(n){var e=n.target,r="elbTimerId";if(n.intersectionRatio>=.5){var i=d.setTimeout((function(){(function(t){var n=getComputedStyle(t);if("none"===n.display)return!1;if("visible"!==n.visibility)return!1;if(Number(n.opacity)<.1)return!1;if(t.offsetWidth+t.offsetHeight+t.getBoundingClientRect().height+t.getBoundingClientRect().width===0)return!1;var e={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2};if(e.x<0)return!1;if(e.x>(l.documentElement.clientWidth||d.innerWidth))return!1;if(e.y<0)return!1;if(e.y>(l.documentElement.clientHeight||d.innerHeight))return!1;var r=l.elementFromPoint(e.x,e.y);if(r)do{if(r===t)return!0}while(r=r.parentElement);return!1})(e)&&(y(e,"visible"),delete e.dataset[r],h&&h.unobserve(e))}),t);e.dataset[r]=String(i)}else e.dataset[r]&&(clearTimeout(Number(e.dataset[r])),delete e.dataset[r])}))}),{rootMargin:"0px",threshold:[.5]})}))(1e3);function v(t,n){var e=function(){t(n)};"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function p(){var t,n;t=d.location,n={domain:t.hostname,id:t.pathname,title:l.title},t.search&&(n.search=t.search),t.hash&&(n.hash=t.hash),d.elbLayer.push("page view",n,"load"),l.querySelectorAll(b("load")).forEach((function(t){y(t,"load")})),l.querySelectorAll(b("wait")).forEach((function(t){setTimeout((function(){return y(t,"wait")}),4e3)})),function(t,n){if(void 0===n&&(n=!1),h){n&&h.disconnect();var e=b("visible");t.querySelectorAll(e).forEach((function(t){h.observe(t)}))}}(l,!0)}function g(t){y(t.target,"click")}function m(t){y(t.target,"submit")}function y(t,n){(function(t,n){var e=function(t,n){for(var e=t;e;){var o=i(r(a(e,f("action",!1))||a(e,f("action")))[n]||""),c=o[0],u=o[1];if(c||"click"!==n)return[c,u?r(u,","):void 0];e=e.parentElement}return[]}(t,n),o=e[0],c=e[1];if(!o)return[];var s=function(t,n){for(var e=[],r=t;r;){var i=u(r);!i||n&&!n[i.type]||e.push(i),r=r.parentElement}return e}(t,c);return s.map((function(t){return{entity:t.type,action:o,data:t.data,trigger:n,nested:t.nested}}))})(t,n).forEach((function(t){d.elbLayer.push("".concat(t.entity," ").concat(t.action),t.data,n,t.nested)}))}function b(t){return"[".concat(f("action",!1),"*=").concat(t,"],[").concat(f("action"),"*=").concat(t,"]")}var w=function(){return w=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},w.apply(this,arguments)},E={config:{},init:function(){return window.dataLayer=window.dataLayer||[],!0},push:function(t){window.dataLayer.push(w(w({},t),{walker:!0}))}},k=window,L={},A=[],j="".concat("walker"," ").concat("run"),S={walker:1.2,config:0},O=0,x=e(),I={},q={},C=!1,R=!1;function W(t){var i,o,u;O=0,x=e(),i=f("globals",!1),o="[".concat(i,"]"),u={},document.querySelectorAll(o).forEach((function(t){u=c(u,r(a(t,i)))})),I=u,R||(R=!0,function(t){var n="".concat("walker"," "),e=[],r=[];k.elbLayer.map((function(t){var i=t,o=i[0],a=i[1],c=i[2],u=i[3];(null==o?void 0:o.startsWith(n))?e.push([o,a,c,u]):r.push([o,a,c,u])})),e.concat(r).map((function(n){return t.push.apply(t,n)}))}(t)),n(p)()}function B(t){var n={init:t.init,push:t.push,config:t.config||{init:!1}};A.push(n)}L.go=function(t){void 0===t&&(t={}),t.version&&(S.config=t.version),function(t){k.elbLayer=k.elbLayer||[],k.elbLayer.push=function(n,e,r,i){return t.push(n,e,r,i),Array.prototype.push.apply(this,[arguments])},k.elbLayer.find((function(t){return t==j}))&&v(W,t)}(this),l.addEventListener("click",n(g)),l.addEventListener("submit",n(m)),t.projectId?function(t){var n=document.createElement("script");n.src="".concat("https://project-file.p.elbwalkerapis.com/").concat(t,".js"),document.head.appendChild(n)}(t.projectId):t.custom||(B(E),C=!0,v(W,L))},L.push=function(t,e,r,i){if(t){if(!C){if(t!=j)return;C=!0}var o=t.split(" "),a=o[0],u=o[1];if(a&&u)if("walker"!==a){++O;var f=Date.now(),s=Math.round(performance.now()/10)/100,l="".concat(f,"-").concat(x,"-").concat(O);A.map((function(o){n((function(){if(o.init&&!o.config.init){var n=o.init();if(o.config.init=n,!n)return}o.push({event:t,data:c({},e),globals:c({},I),user:c({},q),nested:i||[],id:l,trigger:r||"",entity:a,action:u,timestamp:f,timing:s,group:x,count:O,version:S})}))()}))}else!function(t,n,e){switch(void 0===n&&(n={}),t){case"destination":B(n);break;case"run":v(W,e);break;case"user":!function(t){t.id&&(q.id=t.id),t.device&&(q.device=t.device),t.hash&&(q.hash=t.hash)}(n)}}(u,e,this)}};var H,M,T,P=L,D=document.querySelector("script.elbwalker");D&&(H=D.getAttribute("data-project")||void 0,M=!!D.getAttribute("data-custom"),T=parseInt(D.getAttribute("data-version")||"1")),P.go({projectId:H,custom:M,version:T}),window.elbwalker=P}();