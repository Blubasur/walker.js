!function(){"use strict";var t=function(){return t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},t.apply(this,arguments)};function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return t.apply(void 0,e)}catch(t){return void console.error(t)}}}function n(){return Math.random().toString(36).slice(2,8)}function r(t,e){void 0===e&&(e=";");var n={};if(!t)return n;var r=new RegExp("(?:[^".concat(e,"']+|'[^']*')+"),"ig");return(t.match(r)||[]).forEach((function(t){var e=function(t){var e=t.split(/:(.+)/,2),n=e[0],r=e[1];return[a(n),a(r)]}(t),r=e[0],o=e[1],c=i(r)[0];c&&(n[c]=o||c)})),n}function i(t){var e=t.split("(",2),n=e[0],r=e[1];return[n,r?r.slice(0,-1):""]}function a(t){return t?t.trim().replace(/^'|'$/g,"").trim():""}function o(t,e){return t.getAttribute(e)||""}function c(e,n){return void 0===n&&(n={}),t(t({},e),n)}function u(t){var e=o(t,l());if(!e)return null;for(var n={},r="[".concat(l(e),"]"),i=t;i;)i.matches(r)&&(n=c(s(i,e),n)),i=i.parentElement;t.querySelectorAll(r).forEach((function(t){var r=s(t,e);Object.entries(r).forEach((function(e){var n=e[0],i=e[1];if("#"===i.charAt(0)){i=i.substring(1);try{var a=t[i];a||"selected"!==i||(a=t.options[t.selectedIndex].text),a&&(r[n]=a)}catch(t){r[n]=""}}})),n=c(n,r)}));var a=[];return t.querySelectorAll("[".concat(l(),"]")).forEach((function(t){var e=u(t);e&&a.push(e)})),{type:e,data:n,nested:a}}function l(t){return"elb"+(t?"-"+t:"")}function s(t,e){return r(o(t,l(e))||"")}var f=document,d=window,h=e((function(t){if(void 0===t&&(t=1e3),d.IntersectionObserver)return new d.IntersectionObserver((function(e){e.forEach((function(e){var n=e.target,r="elbTimerId";if(e.intersectionRatio>=.5){var i=d.setTimeout((function(){(function(t){var e=getComputedStyle(t);if("none"===e.display)return!1;if("visible"!==e.visibility)return!1;if(Number(e.opacity)<.1)return!1;if(t.offsetWidth+t.offsetHeight+t.getBoundingClientRect().height+t.getBoundingClientRect().width===0)return!1;var n={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2};if(n.x<0)return!1;if(n.x>(f.documentElement.clientWidth||d.innerWidth))return!1;if(n.y<0)return!1;if(n.y>(f.documentElement.clientHeight||d.innerHeight))return!1;var r=f.elementFromPoint(n.x,n.y);if(r)do{if(r===t)return!0}while(r=r.parentElement);return!1})(n)&&(m(n,"visible"),delete n.dataset[r],h&&h.unobserve(n))}),t);n.dataset[r]=String(i)}else n.dataset[r]&&(clearTimeout(Number(n.dataset[r])),delete n.dataset[r])}))}),{rootMargin:"0px",threshold:[.5]})}))(1e3);function p(){var t,e,n,r;n=d.location,r={domain:n.hostname,id:n.pathname,title:f.title},n.search&&(r.search=n.search),n.hash&&(r.hash=n.hash),d.elbLayer.push("page view",r,"load"),f.querySelectorAll("[".concat(l("action"),"*=load]")).forEach((function(t){m(t,"load")})),f.querySelectorAll("[".concat(l("action"),"*=wait\\(]")).forEach((function(t){setTimeout((function(){return m(t,"wait")}),4e3)})),t=f,void 0===(e=!0)&&(e=!1),h&&(e&&h.disconnect(),t.querySelectorAll("[".concat(l("action"),"*=visible]")).forEach((function(t){h.observe(t)})))}function v(t){m(t.target,"click")}function g(t){m(t.target,"submit")}function m(t,e){(function(t,e){var n=function(t,e){for(var n=t;n;){var a=i(r(o(n,l("action")))[e]||""),c=a[0],u=a[1];if(c||"click"!==e)return[c,u?r(u,","):void 0];n=n.parentElement}return[]}(t,e),a=n[0],c=n[1];if(!a)return[];var s=function(t,e){for(var n=[],r=t;r;){var i=u(r);!i||e&&!e[i.type]||n.push(i),r=r.parentElement}return n}(t,c);return s.map((function(t){return{entity:t.type,action:a,data:t.data,trigger:e,nested:t.nested}}))})(t,e).forEach((function(t){d.elbLayer.push("".concat(t.entity," ").concat(t.action),t.data,e,t.nested)}))}var y={init:function(){window.dataLayer=window.dataLayer||[]},push:function(t){window.dataLayer.push({event:"".concat(t.entity," ").concat(t.action),entity:t.entity,action:t.action,data:t.data,globals:t.globals,trigger:t.trigger,nested:t.nested,group:t.group,elbwalker:!0})},mapping:!1},b=window,w={},E=0,L=n(),S={};w.destinations=[],w.go=function(t){t?function(t){var e=document.createElement("script");e.src="".concat("https://project-file.p.elbwalkerapis.com/").concat(t,".js"),document.head.appendChild(e)}(t):(this.destination(y),this.run())},w.run=function(){var t,i,a;E=0,L=n(),t="[".concat("elbglobals","]"),i={},document.querySelectorAll(t).forEach((function(t){i=c(i,r(o(t,"elbglobals")))})),S=i,(a=b.elbLayer||[]).push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1],i=t[2];return b.elbwalker.push(n,r,i),Array.prototype.push.apply(this,[t])},b.elbLayer=a,"loading"!==f.readyState?e(p)():f.addEventListener("DOMContentLoaded",e(p)),f.addEventListener("click",e(v)),f.addEventListener("submit",e(g))},w.load=function(){e(p)()},w.push=function(t,e,n,r){if(t){var i=t.split(" "),a=i[0],o=i[1];if(a&&o){++E;var u=Date.now(),l=Math.round(performance.now()/10)/100,s="".concat(u,"-").concat(L,"-").concat(E);this.destinations.map((function(i){i.push({event:t,data:c({},e),globals:c({},S),nested:r||[],id:s,trigger:n||"",entity:a,action:o,timestamp:u,timing:l,group:L,count:E})}))}}},w.destination=function(t,e){void 0===e&&(e={}),e&&(t.init(e),t.mapping=e.mapping||!1),this.destinations.push(t)},b.elbwalker=w;var A=w,k=document.querySelector("script.elbwalker"),x=k&&k.getAttribute("data-project")||"";A.go(x)}();